#!/usr/bin/env bash
set -eu -o pipefail

output=
TEST_PASSED=false
trap '  ec=$?
        $TEST_PASSED || echo "FAILURE: unexpected exit; code=$ec"
' 0

####################################################################

export PROJDIR=$(cd "$(dirname "$0")" && pwd -P)
cd "$PROJDIR"

header() {
    echo '┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━'
    echo '┃' "$@"
}

header tscript/pactivate-test-docker
./tscript/pactivate-test-docker "$@"

header tscript/pae-test
./tscript/pae-test "$@"

header "All tests passed"
    echo '┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━'
TEST_PASSED=true
